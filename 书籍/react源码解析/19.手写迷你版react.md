### 渲染器和入口函数

```javascript
const React = {
  createElement,
  render,
};

const container = document.getElementById("root");

// 重新渲染
const updateValue = (e) => {
  rerender(e.target.value);
};

const rerender = (value) => {
  // babel 编译后为虚拟dom对象。需提供 React.createElement 函数
  const element = (
    <div>
      <input onInput={updateValue} value={value} />
      <h2>Hello {value}</h2>
    </div>
  );
  // {type: 'div', props: {…}}
  console.log("element", element);
  // container 为dom容器
  React.render(element, container);
};

rerender("World");
```

### 创建虚拟 dom 函数

```javascript
function createElement(type, props, ...children) {
  return {
    type,
    props: {
      ...props,
      children: children.map((child) =>
        typeof child === "object" ? child : createTextElement(child)
      ),
    },
  };
}

//创建text类型
function createTextElement(text) {
  return {
    type: "TEXT_ELEMENT",
    props: {
      nodeValue: text,
      children: [],
    },
  };
}
```
