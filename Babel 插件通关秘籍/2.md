### declare 用法

- babel7 的插件兼容写法: 使用 declare 包裹
- 插件函数返回值
  - visitor： traverse 时调用的函数。
  - pre、post：遍历前后调用

```javascript
const { declare } = require("@babel/helper-plugin-utils");

// 函数plugin
const autoTrackPlugin = declare((api, options, dirname) => {
  api.assertVersion(7);

  return {
    pre(file) {},
    visitor: {
      // 遍历的时候指定 visitor 处理的 AST
      Program: {
        // 遍历当前节点的子节点前调用
        enter(path, state) {},
        // 遍历完当前节点的子节点后调用
        exit(path, state) {},
      },
      // 相当于是 enter 时调用的函数
      Identifier(path, state) {},
    },
    post(file) {},
  };
});
module.exports = autoTrackPlugin;
```
